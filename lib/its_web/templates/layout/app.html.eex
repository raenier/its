<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>ITS</title>
    <link rel="stylesheet" href="<%= static_path(@conn, "/css/app.css") %>">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top navbar-5-pad">
      <a class="navbar-brand" href="#">
        <img src=<%= static_path(@conn, "/images/ios-banner2.png")%> height="40px">
        ITSeastwestBPO |
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
        <%= if signed_in?(@conn) do %>
          <%= case check_user_type(@conn) do %>
            <% "admin" -> %>
            <li class="nav-item dropdown active">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-users"></i> Accounts
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <%= link [to: admin_path(@conn, :index_all), class: "dropdown-item"] do %>
                  All Users
                <% end %>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <i class="fas fa-ticket-alt"></i>&nbsp;Tickets
              </a>
            </li>

            <% "client" -> %>
              <li class="nav-item">
                <%= link [to: client_path(@conn, :index), class: "nav-link"] do %>
                  <i class="fas fa-ticket-alt"></i>&nbsp;Tickets
                <% end %>
              </li>

            <% "technician" -> %>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <i class="fas fa-ticket-alt"></i>&nbsp;Tickets
                </a>
              </li>

            <% "headtech" -> %>
              <li class="nav-item">
                <%= link [to: headtech_path(@conn, :index), class: "nav-link"] do %>
                  <i class="fas fa-ticket-alt"></i>&nbsp;Tickets
                <% end %>
              </li>

            <% _ -> %>

          <% end %>
        <% end %>
        </ul>

        <form class="form-inline my-2 my-lg-0">
              <%= if signed_in?(@conn) do %>
                <%= link [to: session_path(@conn, :delete), class: "nav-link link-white", method: "delete"] do %>
                  <%= case check_user_type(@conn) do %>
                    <% "admin" -> %>
                      <i class="fas fa-user-astronaut"></i>

                    <% "technician" -> %>
                      <i class="fas fa-user-tie"></i>

                    <% "client" -> %>
                      <i class="fas fa-user"></i>

                    <% "headtech" -> %>
                      <i class="fas fa-user-secret"></i>

                    <% _ -> %>

                  <% end %>
                  <i class="fas fa-sign-out-alt"></i>&nbsp;Sign Out
                <% end %>
              <%= else %>
                <%= link to: session_path(@conn, :new), class: "nav-link link-white" do %>
                  <i class="fas fa-sign-in-alt"></i>&nbsp;Sign In&nbsp;&nbsp;&nbsp;
                <% end %>
              <% end %>
            </a>
        </form>
      </div>
    </nav>

      <main role="main">
        <div class="container-fluid">
          <%= render @view_module, @view_template, assigns %>
        </div>
      </main>
    <script src="<%= static_path(@conn, "/js/app.js") %>"></script>
  </body>
</html>
